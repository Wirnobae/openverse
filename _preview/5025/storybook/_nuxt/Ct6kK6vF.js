import{u as $}from"./DKepsN1e.js";import{v as W}from"./TZ8H9kUZ.js";import{f as N,c as j,w as x}from"./CoPWYLvr.js";import{_ as O}from"./Do2yKSxf.js";import{d as y,C as h,K as B,G as S,F as V,I as u,ac as G,J,Q as C,R as v,S as K,O as L}from"./lnpB3OcH.js";import{_ as P}from"./DlAUqK2U.js";const Q={class:"absolute z-10 h-8 w-8 flex-none"},R=y({__name:"VScroller",props:{direction:{}},emits:["click"],setup(_){const a=_,{t}=$({useScope:"global"}),c=h(()=>a.direction==="forward"?"chevron-forward":"chevron-back"),d=h(()=>t(a.direction==="forward"?"mediaDetails.scroll.forward":"mediaDetails.scroll.back"));return(i,n)=>(V(),B("div",Q,[S(O,{"icon-props":{name:c.value,rtlFlip:!0},label:d.value,variant:"transparent-gray",size:"small",onClick:n[0]||(n[0]=b=>i.$emit("click"))},null,8,["icon-props","label"])]))}}),m=150,p=44,q=y({__name:"VScrollableLine",setup(_){const a=u(null),t=u(null),c=u(null),{localeProperties:d}=$({useScope:"global"}),i=h(()=>d.value.dir??"ltr"),n=u(!1),{x:b}=N(t),{width:D}=j(a),s=G({start:!1,end:!1}),w=()=>{n.value=!0,s.start=!1,s.end=!0},T=e=>{s[e]=!1,f.value=!1,setTimeout(()=>{f.value=!0},500)},f=u(!0);x(D,e=>{var o;const r=(((o=t.value)==null?void 0:o.scrollWidth)??0)>=e;r&&!n.value?w():!r&&n.value&&(n.value=!1,s.start=!1,s.end=!1)},{debounce:500}),J(()=>{var e;!t.value||!a.value||((e=t.value)==null?void 0:e.scrollWidth)>a.value.scrollWidth&&w()});const z=(e,l)=>e.scrollWidth-e.clientWidth-(l==="rtl"?-e.scrollLeft:e.scrollLeft),E=e=>Math.abs(e.scrollLeft),F=(e,l,r)=>e==="start"?E(r):z(r,l),I=({side:e})=>{if(T(e),!t.value)return;const l=e==="start"?0:i.value==="ltr"?t.value.scrollWidth:-t.value.scrollWidth;t.value.scrollTo({left:l,behavior:"smooth"})},k=e=>{var g;if(!t.value||!c.value)return;const l=c.value;s[e==="start"?"end":"start"]=!0;let r=F(e,i.value,l),o=m;if(r-p<=m){I({side:e});return}r<m*2&&(o=r/2),i.value==="rtl"&&(o=-o);let M=e==="start"?-o:o;(g=t.value)==null||g.scrollBy({left:M,behavior:"smooth"})};return x(b,e=>{if(!t.value)return;const l=Math.abs(e),r=t.value.scrollWidth-l-t.value.clientWidth;s.start=l>=p,s.end=r>=p},{debounce:100}),(e,l)=>(V(),B("div",{ref_key:"containerRef",ref:a,class:v(["container relative flex min-w-0",{"pointer-events-none":!f.value}])},[C("div",{ref_key:"innerContainerRef",ref:c,class:v(["inner-container max-w-full",{"faded-overflow-s":s.start,"faded-overflow-e":s.end}])},[C("div",{ref_key:"buttonsRef",ref:t,class:v(["buttons flex justify-start gap-x-3 overflow-x-scroll sm:gap-x-1",[s.start?s.end?"me-11 ms-11 w-[calc(100%_-_2_*_theme(spacing.11))]":"ms-11 w-[calc(100%_-_theme(spacing.11))]":s.end?"me-11 w-[calc(100%_-_theme(spacing.11))]":""]])},[K(e.$slots,"default",{},void 0,!0)],2)],2),L(S(R,{class:"start-0",direction:"back",onClick:l[0]||(l[0]=r=>k("start"))},null,512),[[W,s.start]]),L(S(R,{class:"end-0",direction:"forward",onClick:l[1]||(l[1]=r=>k("end"))},null,512),[[W,s.end]])],2))}}),te=P(q,[["__scopeId","data-v-727c534c"]]);export{te as V};
