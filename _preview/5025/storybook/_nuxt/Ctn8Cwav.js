import{V as P}from"./ZjNmaQpL.js";import{u as R}from"./DKepsN1e.js";import{v as f}from"./TZ8H9kUZ.js";import{r as S,h as $}from"./Dt-H8hG_.js";import{b as E,l as F,d as M}from"./DC-AD4tD.js";import{u as T}from"./11sm9IB6.js";import{d as A,H as D,I as w,J as H,K as r,L as g,M as B,N as O,O as h,P as e,Q as p,R as G,G as J,F as c}from"./lnpB3OcH.js";const K=["title"],Q=["viewBox"],W=["cx","cy","r"],j={class:"absolute bg-complementary"},q={class:"thumbnail absolute inset-0"},U=["src","alt"],s=10,a=768,X=2,Y=27,le=A({__name:"VAudioThumbnail",props:{audio:{}},setup(V){const u=V,{audio:m}=D(u),{isHidden:n}=T(m),{t:y}=R({useScope:"global"}),x=n.value?y("sensitiveContent.title.audio"):y("audioThumbnail.alt",{title:u.audio.title,creator:u.audio.creator}),v=w(null),d=w(!1),k=()=>{d.value=!0};H(()=>{var t,o;d.value=!!((t=v.value)!=null&&t.complete&&((o=v.value)!=null&&o.naturalWidth))});const C=S($(u.audio.title??"")),z=Array.from({length:4},(t,o)=>[C()*a,o/3*a]),I=s+1,L=E(z,I),_=t=>t*(a/(s+1)),N=(t,o)=>{const b=L[t],l=M([0,b],[0,_(o)]),i=a*((s-1)/(s+1));return F(Y,X,l/i)};return(t,o)=>{const b=P;return c(),r("div",{class:"relative h-0 w-full overflow-hidden pt-full",title:e(x)},[d.value?O("",!0):(c(),r("svg",{key:0,class:"absolute inset-0 bg-complementary",viewBox:`0 0 ${a} ${a}`},[(c(),r(g,null,B(s,l=>(c(),r(g,null,[(c(),r(g,null,B(s,i=>h(p("circle",{key:`${l}-${i}`,class:"fill-gray-12",cx:_(i),cy:_(l),r:N(l,i)},null,8,W),[[f,!e(n)]])),64))],64))),64))],8,Q)),h(p("div",j,null,512),[[f,e(n)&&!e(m).thumbnail]]),h(p("div",q,[p("img",{ref_key:"imgEl",ref:v,class:G(["h-full w-full overflow-clip object-cover object-center duration-200 motion-safe:transition-[filter,transform]",{"scale-150 blur-image":e(n)}]),src:e(m).thumbnail,alt:e(x),onLoad:k},null,42,U)],512),[[f,e(m).thumbnail&&d.value]]),h(J(b,{name:"eye-closed",class:"absolute left-[calc(50%-0.75rem)] top-[calc(50%-0.75rem)]"},null,512),[[f,e(n)]])],8,K)}}});export{le as _};
