import{n as p}from"./D-c0xjtQ.js";import{u as f,a as v}from"./BJ-KpVIG.js";import{u as g}from"./B-JuYQep.js";import{u as d}from"./BK2_z56-.js";import{C as t,w as C}from"./lnpB3OcH.js";const F=c=>{const s=f(),e=v(),{matches:o}=d(),u=t(()=>e.searchTerm);C(u,a=>{r.value=a});const r=t({get:()=>e.localSearchTerm,set:a=>{e.localSearchTerm=a}}),n=t(()=>e.searchTerm!==r.value),h=()=>{if(r.value===""||!n.value&&o.value)return;c("SUBMIT_SEARCH",{searchType:e.searchType,query:r.value});const a=e.updateSearchPath({searchTerm:r.value});return p(a)},m=t(()=>s.fetchState.isFetching),i=t(()=>s.resultCount),{getI18nCount:S,getLoading:l}=g(),T=t(()=>e.searchTerm===""?"":m.value?l():S(i.value));return{updateSearchState:h,searchTerm:r,searchStatus:T}};export{F as u};
