import{n as H}from"./D-c0xjtQ.js";import{u as P}from"./CnfNh8zc.js";import{A as E,i as L,e as G}from"./CRWjC3CT.js";import{_ as N,u as j}from"./CtE17snF.js";import{u as z,a as q}from"./BJ-KpVIG.js";import{u as V}from"./BsB6Edd_.js";import{u as U}from"./wqDFrKMd.js";import{d as y,F as l,D as _,E as d,Q as u,V as h,S as R,Y as M,I as b,K as w,R as J,G as f,C as m,Z as K,T as Q,P as c,L as X,N as I,J as Y}from"./lnpB3OcH.js";import{_ as Z}from"./Bzk4Qxt6.js";import{s as W}from"./BOX21o1p.js";import{u as ee}from"./B_2Noz0c.js";import{H as B}from"./-TaKdCZx.js";import{_ as te}from"./DpiM0ITd.js";import{_ as oe}from"./BFVL96oJ.js";import{_ as re}from"./BfrxFy2y.js";import{_ as se}from"./C9lBIzsn.js";import{a as ae}from"./TZ8H9kUZ.js";import{_ as ie}from"./BUNojBq_.js";import{_ as le}from"./DlAUqK2U.js";import"./CFMQYC2y.js";import"./BNurbrIm.js";import"./DYcLt-QY.js";import"./D46q-qR7.js";import"./yH-X360_.js";import"./CVtkxrq9.js";import"./CxzAXwOf.js";import"../sb-preview/runtime.js";import"./Xs_VBmP5.js";import"./BInFDkJi.js";import"./PgLs4BFy.js";import"./D0ww02ZN.js";import"./Dt-H8hG_.js";import"./BvLt3-_D.js";import"./Bz7P8nyL.js";import"./bOkDOO5J.js";import"./DToSwJe0.js";import"./BSEdKPgk.js";import"./DKepsN1e.js";import"./CTON8dBl.js";import"./Cpj98o6Y.js";import"./ZjNmaQpL.js";import"./CuPsdpTl.js";import"./CoPWYLvr.js";import"./Ci7G4jyV.js";import"./fB7P6YnH.js";import"./p_NB-mur.js";import"./BsSU7JKo.js";import"./DQnMOLSw.js";import"./ONOUNYGt.js";import"./DuVMw8T-.js";import"./CSbnntva.js";import"./91sRmqhQ.js";import"./Dd0rXUjN.js";import"./RevM6cLn.js";import"./CV5aTZXU.js";import"./Do2yKSxf.js";import"./-zoqqjDg.js";import"./Bnkvtx4f.js";import"./CaKMj7kB.js";import"./BKgXXsC6.js";import"./DH-KChwL.js";import"./CEC82uon.js";import"./86gNHKjF.js";import"./CWvENs0d.js";import"./4pe4-dmi.js";import"./BsLi3YXd.js";import"./DyOEVqiO.js";import"./fl49u9nx.js";import"./DinEHs6j.js";import"./CxFyQ5el.js";import"./2KHODdxl.js";const ne={class:"flex h-6 items-center rounded-full bg-primary px-2 text-xs font-semibold uppercase text-over-negative"},pe={class:"label-regular flex-grow text-default"},ce={class:"label-bold text-default group-hover:underline group-focus:underline"},me=y({__name:"VFeatureNotice",props:{seeMoreHref:{}},emits:["click"],setup(x,{emit:a}){const n=a,i=e=>{n("click",e)};return(e,p)=>(l(),_(N,{href:e.seeMoreHref,class:"group flex h-10 w-full flex-row items-center gap-2 rounded-full border border-secondary pe-4 ps-2 hover:no-underline sm:w-[23.125rem]",onClick:i},{default:d(()=>[u("div",ne,h(e.$t("notification.new")),1),u("div",pe,[R(e.$slots,"default")]),u("span",ce,h(e.$t("notification.more")),1)]),_:3},8,["href"]))}}),ue=y({__name:"VDarkModeFeatureNotice",setup(x){const a=V(),n=()=>{a.setIsDarkModeSeen(!0)};return(i,e)=>(l(),_(me,{"see-more-href":"https://make.wordpress.org/openverse/",onClick:n},{default:d(()=>[M(h(i.$t("notification.darkMode.text")),1)]),_:1}))}}),de=["placeholder","aria-label"],fe=y({__name:"VStandaloneSearchBar",props:{route:{default:"home"},hasPopover:{type:Boolean,default:!1}},emits:["submit"],setup(x,{expose:a,emit:n}){const i=n,e=b(null),p=()=>{var o;const t=(o=e.value)==null?void 0:o.value.trim();t&&i("submit",t)};return a({focusInput:()=>{var t;(t=e.value)==null||t.focus()}}),(t,o)=>(l(),w("form",{action:"/search",role:"search",class:"search-bar group flex h-14 flex-row items-center rounded-sm border-tx bg-default sm:h-16 dark:bg-overlay",onSubmit:ae(p,["prevent"])},[u("div",{class:J(["input-field search-field group flex h-full flex-grow items-center overflow-hidden rounded-sm rounded-e-none border p-0.5px",[t.route==="home"?"border-tx pe-[7px]":"border-1.5 border-e-0 border-black pe-[7.5px] dark:border-tx",{"has-popover":t.hasPopover}]])},[u("input",{id:"search-bar",ref_key:"inputRef",ref:e,type:"search",name:"q",placeholder:t.$t("hero.search.placeholder"),class:"paragraph-large md:label-regular focus-visible:outline-style-none ms-4 h-full w-full appearance-none rounded-none bg-tx leading-none text-default placeholder-gray-8 dark:placeholder-gray-4","aria-label":t.$t("search.searchBarLabel",{openverse:"Openverse"})},null,8,de),R(t.$slots,"default",{},void 0,!0)],2),f(ie,{route:t.route},null,8,["route"])],32))}}),he=le(fe,[["__scopeId","data-v-788a4d8a"]]),_e=["id"],xe={class:"mb-2 mt-auto text-[40px] font-light leading-tight lg:text-[63px]"},ge={class:"text-base leading-relaxed"},ve=y({__name:"VHomepageContent",props:{handleSearch:{type:Function},searchType:{},setSearchType:{type:Function}},emits:["keydown","blur","focus","open","close"],setup(x,{emit:a}){const n=x,i=a,e=b(null),p=b(null),S=m(()=>{var r;return((r=p.value)==null?void 0:r.$el)??null}),t=V(),o=b(!1),$=m(()=>t.isBreakpoint("sm")),k=m(()=>t.isBreakpoint("lg")),g=m(()=>{var r;return((r=e.value)==null?void 0:r.$el)||null}),s=m(()=>!k.value),T=r=>{var v;n.setSearchType(r),(v=p.value)==null||v.focusInput(),C()},{close:C,open:A,onTriggerClick:D,triggerA11yProps:F}=ee({id:B,visibleRef:o,nodeRef:S,lockBodyScroll:s,emit:i});return(r,v)=>{const O=K("i18n-t");return l(),w("div",{id:c(W),tabindex:"-1"},[u("h1",xe,h(r.$t("hero.subtitle")),1),u("p",ge,h(r.$t("hero.description")),1),f(he,{ref_key:"searchBarRef",ref:p,class:"mt-4 md:mt-6 xl:max-w-[43.75rem]","has-popover":!!g.value&&o.value,onSubmit:r.handleSearch},{default:d(()=>[f(re,Q({id:"search-type-button",ref_key:"searchTypeButtonRef",ref:e,class:"ms-2 flex-none","search-type":r.searchType},c(F),{"show-label":$.value,"aria-controls":"content-switcher-popover",onClick:c(D)}),null,16,["search-type","show-label","onClick"]),g.value?(l(),w(X,{key:0},[k.value?(l(),_(oe,{key:0,id:c(B),"z-index":"popover",hide:c(C),"trap-focus":!1,visible:o.value,"trigger-element":g.value,"aria-labelledby":"search-type-button"},{default:d(()=>[f(se,{size:"small","use-links":!1,onSelect:T})]),_:1},8,["id","hide","visible","trigger-element"])):(l(),_(te,{key:1,id:c(B),"aria-labelledby":"search-type-button",close:c(C),visible:o.value,"use-links":!1,"show-filters":!1,variant:"fit-content",onOpen:c(A),onSelect:T},null,8,["id","close","visible","onOpen"]))],64)):I("",!0)]),_:1},8,["has-popover","onSubmit"]),f(O,{scope:"global",keypath:"hero.disclaimer.content",tag:"p",class:"mt-4 text-sr"},{openverse:d(()=>v[0]||(v[0]=[M("Openverse")])),license:d(()=>[f(N,{href:"https://creativecommons.org/licenses/",class:"text-default underline hover:text-default"},{default:d(()=>[M(h(r.$t("hero.disclaimer.license")),1)]),_:1})]),_:1})],8,_e)}}}),be={class:"index flex w-full flex-shrink-0 flex-grow flex-col justify-center gap-6 px-6 sm:px-0 xl:flex-row xl:items-center xl:justify-between xl:gap-0"},ye={class:"flex flex-grow flex-col items-center justify-center gap-6 xl:h-[33rem] xl:flex-grow-0 xl:items-start"},Ht=y({name:"HomePage",__name:"index",setup(x){const a=U(),n=z(),i=q(),e=V(),{sendCustomEvent:p}=j();P({meta:[{hid:"theme-color",name:"theme-color",content:"#ffe033"}]}),Y(()=>{i.$reset(),n.$reset()});const S=m(()=>e.isBreakpoint("xl")),t=m(()=>e.isDarkModeSeen),o=b(E),$=s=>{(s===E||L(s)||a.isOn("additional_search_types")&&G(s))&&(o.value=s)},k=m(()=>a.isOn("dark_mode_ui_toggle")),g=s=>(p("SUBMIT_SEARCH",{searchType:o.value,query:s}),H(i.updateSearchPath({type:o.value,searchTerm:s})));return(s,T)=>(l(),w("main",be,[u("div",ye,[k.value&&!t.value?(l(),_(ue,{key:0,class:"sm:mx-14 md:mx-20 lg:mx-26 xl:me-0"})):I("",!0),f(ve,{class:"my-auto sm:px-14 md:px-20 lg:px-26 xl:w-[53.375rem] xl:pe-0","handle-search":g,"search-type":o.value,"set-search-type":$},null,8,["search-type"])]),S.value?(l(),_(Z,{key:0,class:"mx-10 me-12 flex h-full flex-grow"})):I("",!0)]))}});export{Ht as default};
