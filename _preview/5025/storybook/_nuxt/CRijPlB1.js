import{u as V}from"./BNurbrIm.js";import{v as m}from"./TZ8H9kUZ.js";import{u as k,a as F}from"./BJ-KpVIG.js";import{u as R}from"./BsB6Edd_.js";import{I as $}from"./fl49u9nx.js";import{u as E}from"./CNRdjk3K.js";import{u as I}from"./DinEHs6j.js";import{e as C}from"./DQnMOLSw.js";import{_ as D}from"./YspSskTg.js";import{_ as H}from"./DzxDTYzf.js";import{_ as G}from"./BDdERGAD.js";import{V as N}from"./CE9j5xii.js";import{_ as j}from"./oYetYCiO.js";import{d as A,I as p,C as r,K,G as o,E as L,P as a,a1 as M,a0 as O,F as P,O as h,Q as U,V as q}from"./lnpB3OcH.js";const z={class:"main-header z-30 flex w-full items-stretch justify-between gap-x-2 bg-default px-6 py-4"},ce=A({__name:"VHeaderDesktop",setup(Q){const _=p(null),l=p(null),g=k(),n=F(),i=R(),s=O($),S=r(()=>g.fetchState.isFetching),{$sendCustomEvent:c}=V(),{updateSearchState:x,searchTerm:t,searchStatus:u}=E(c),w=()=>{var e;t.value="",C((e=l.value)==null?void 0:e.$el.querySelector("input"))},d=async()=>{window.scrollTo({top:0,left:0,behavior:"auto"});const e=document.activeElement;e==null||e.blur(),x()},b=r(()=>!n.searchTypeIsSupported),v=()=>{const e=s!=null&&s.value?"closed":"opened";c("TOGGLE_FILTER_SIDEBAR",{searchType:n.searchType,toState:e}),i.toggleFilters()},y=r(()=>i.isBreakpoint("xl")),{doneHydrating:B}=I();return(e,f)=>(P(),K("header",z,[o(G,{"is-fetching":S.value},null,8,["is-fetching"]),o(H,{ref_key:"searchBarRef",ref:l,modelValue:a(t),"onUpdate:modelValue":f[0]||(f[0]=T=>M(t)?t.value=T:null),modelModifiers:{trim:!0},class:"me-4 flex-grow",onSubmit:d,onRecentHidden:d},{default:L(()=>[h(o(N,{icon:"close-small",label:e.$t("browsePage.searchForm.clear"),variant:"filled-white",class:"hidden group-focus-within:flex",onClick:w},null,8,["label"]),[[m,a(t)!==""]]),h(U("span",{class:"info mx-4 hidden whitespace-nowrap text-xs text-secondary group-focus-within:hidden group-hover:text-default group-focus:text-default lg:block"},q(a(u)),513),[[m,!!a(u)]])]),_:1},8,["modelValue"]),o(j,{"show-label":y.value},null,8,["show-label"]),o(D,{ref_key:"filterButtonRef",ref:_,class:"flex self-stretch",pressed:a(s),disabled:!a(B)||b.value,"aria-haspopup":"dialog","aria-expanded":a(s),onToggle:v},null,8,["pressed","disabled","aria-expanded"])]))}});export{ce as _};
